{"version":3,"sources":["webpack://unity-inspired-component-system/./src/game/components/PlayerInputBehaviour.ts","webpack://unity-inspired-component-system/./src/game/prefab/Box.ts","webpack://unity-inspired-component-system/./src/game/prefab/Pentagon.ts","webpack://unity-inspired-component-system/./src/game/prefab/Player.ts","webpack://unity-inspired-component-system/../game-engine/lib/abstract/IDisposable.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/Game.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/components/Behaviour.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/components/Component.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/components/ShapeRenderer.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/components/Transform.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/gameobjects/Camera.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/gameobjects/gameobject.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/geometry/Circle.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/geometry/IShape.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/geometry/Line.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/geometry/Polygon.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/geometry/Rectangle.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/input/InputManager.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/input/KeyCode.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/input/MouseButtonCode.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/math/Point.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/math/Vector2D.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/rendering/Canvas2DRenderer.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/rendering/IRenderable.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/rendering/RenderManager.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/scenes/Scene.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/scenes/SceneManager.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/state/State.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/state/StateMachine.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/types/CommonTypes.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/types/ViewPort.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/update/IUpdateable.js","webpack://unity-inspired-component-system/../game-engine/lib/engine/update/UpdateManager.js","webpack://unity-inspired-component-system/../game-engine/lib/index.js","webpack://unity-inspired-component-system/webpack/bootstrap","webpack://unity-inspired-component-system/./src/main.ts"],"names":[],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,uC;;;;;;;;;;ACXa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,YAAY;AACZ,kBAAkB,mBAAO,CAAC,6EAAsB;AAChD,yBAAyB,mBAAO,CAAC,6FAA8B;AAC/D,qBAAqB,mBAAO,CAAC,6EAAsB;AACnD,qBAAqB,mBAAO,CAAC,+EAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB,EAAE;AACnD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,oBAAoB,EAAE;AAChD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,2BAA2B,EAAE;AACvD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;AC3Ga;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iBAAiB;AACjB,kBAAkB,mBAAO,CAAC,sEAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;AACjB,qC;;;;;;;;;;AC1Ca;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,+CAA+C;AAC/C;AACA,CAAC;AACD,iBAAiB;AACjB,qC;;;;;;;;;;AClBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,qBAAqB;AACrB,kBAAkB,mBAAO,CAAC,sEAAa;AACvC,kBAAkB,mBAAO,CAAC,sEAAa;AACvC,eAAe,mBAAO,CAAC,wEAAoB;AAC3C,kBAAkB,mBAAO,CAAC,8EAAuB;AACjD,gBAAgB,mBAAO,CAAC,0EAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB,yC;;;;;;;;;;ACxEa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iBAAiB;AACjB,iBAAiB,mBAAO,CAAC,oEAAkB;AAC3C,kBAAkB,mBAAO,CAAC,sEAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB,EAAE;AACnD,2BAA2B,oBAAoB,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,uBAAuB,EAAE;AACnD,2BAA2B,oBAAoB,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,oBAAoB,EAAE;AAChD,2BAA2B,iBAAiB,EAAE;AAC9C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;AACjB,qC;;;;;;;;;;AChEa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc;AACd,mBAAmB,mBAAO,CAAC,yEAAc;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,cAAc;AACd,kC;;;;;;;;;;ACnDa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,kBAAkB;AAClB,kBAAkB,mBAAO,CAAC,kFAAyB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,wBAAwB,EAAE;AACpD,2BAA2B,qBAAqB,EAAE;AAClD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,oBAAoB,EAAE;AAChD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,mCAAmC,EAAE;AAC/D;AACA;AACA,KAAK;AACL;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,mBAAmB,EAAE;AAC/C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6DAA6D,8CAA8C,uBAAuB,EAAE,EAAE,EAAE;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,+CAA+C,oBAAoB,EAAE,EAAE,EAAE;AACvI;AACA;AACA,CAAC;AACD,kBAAkB;AAClB,sC;;;;;;;;;;AC/Ja;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,gBAAgB,EAAE;AAC5C;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,cAAc;AACd,kC;;;;;;;;;;ACrBa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,kC;;;;;;;;;;ACFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,YAAY;AACZ,iBAAiB,mBAAO,CAAC,oEAAkB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB,EAAE;AAC7C;AACA;AACA,KAAK;AACL;AACA,0BAA0B,iBAAiB,EAAE;AAC7C;AACA;AACA,KAAK;AACL;AACA,0BAA0B,kBAAkB,EAAE;AAC9C;AACA;AACA,KAAK;AACL;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,YAAY;AACZ,gC;;;;;;;;;;ACxCa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB,EAAE;AACnD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT,gCAAgC,uBAAuB,EAAE;AACzD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,mC;;;;;;;;;;ACpDa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,oBAAoB,EAAE;AAChD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,iBAAiB;AACjB,qC;;;;;;;;;;AC3Ba;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB,wC;;;;;;;;;;AChIa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC,eAAe,KAAK;AACrD,mC;;;;;;;;;;ACpEa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;AAC7E,2C;;;;;;;;;;ACTa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iC;;;;;;;;;;ACFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC,2BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,gBAAgB,EAAE;AAC5C;AACA;AACA,KAAK;AACL;AACA,0BAA0B,gBAAgB,EAAE;AAC5C;AACA;AACA,KAAK;AACL;AACA,0BAA0B,kCAAkC,EAAE;AAC9D;AACA;AACA,KAAK;AACL;AACA,0BAA0B,iCAAiC,EAAE;AAC7D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB,oC;;;;;;;;;;AC/Na;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,wBAAwB;AACxB,eAAe,mBAAO,CAAC,0EAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB,EAAE;AAC9C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,qBAAqB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,qBAAqB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB,4C;;;;;;;;;;ACrIa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,uC;;;;;;;;;;ACFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,qBAAqB;AACrB,yBAAyB,mBAAO,CAAC,mFAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,qBAAqB,EAAE;AACjD,gCAAgC,uBAAuB,EAAE;AACzD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,iDAAiD,EAAE;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB,yC;;;;;;;;;;ACpEa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,aAAa;AACb,sBAAsB,mBAAO,CAAC,kFAAyB;AACvD,sBAAsB,mBAAO,CAAC,wFAA4B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAmB,EAAE;AAC/C;AACA;AACA,KAAK;AACL;AACA,0BAA0B,4BAA4B,EAAE;AACxD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,8BAA8B,EAAE;AAC1D;AACA;AACA,KAAK;AACL;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA,gDAAgD,uBAAuB,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA,gDAAgD,oBAAoB,EAAE;AACtE;AACA;AACA,CAAC;AACD,aAAa;AACb,iC;;;;;;;;;;AC9Fa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,oBAAoB;AACpB,qBAAqB,mBAAO,CAAC,8EAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB,wC;;;;;;;;;;AC/Ca;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iC;;;;;;;;;;ACFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA;AACA;AACA,wC;;;;;;;;;;AC1Fa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,uC;;;;;;;;;;ACFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,oC;;;;;;;;;;ACFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,uC;;;;;;;;;;ACFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,4BAA4B,EAAE;AAC9E;AACA;AACA,CAAC;AACD,qBAAqB;AACrB,yC;;;;;;;;;;AC1Ca;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,aAAa,mBAAO,CAAC,0EAAwB;AAC7C,aAAa,mBAAO,CAAC,wFAA+B;AACpD,aAAa,mBAAO,CAAC,wFAA+B;AACpD,aAAa,mBAAO,CAAC,gGAAmC;AACxD,aAAa,mBAAO,CAAC,wFAA+B;AACpD,aAAa,mBAAO,CAAC,oFAA6B;AAClD,aAAa,mBAAO,CAAC,4FAAiC;AACtD,aAAa,mBAAO,CAAC,8EAA0B;AAC/C,aAAa,mBAAO,CAAC,8EAA0B;AAC/C,aAAa,mBAAO,CAAC,0EAAwB;AAC7C,aAAa,mBAAO,CAAC,oFAA6B;AAClD,aAAa,mBAAO,CAAC,gFAA2B;AAChD,aAAa,mBAAO,CAAC,oFAA6B;AAClD,aAAa,mBAAO,CAAC,0EAAwB;AAC7C,aAAa,mBAAO,CAAC,0FAAgC;AACrD,aAAa,mBAAO,CAAC,oEAAqB;AAC1C,aAAa,mBAAO,CAAC,0EAAwB;AAC7C,aAAa,mBAAO,CAAC,oGAAqC;AAC1D,aAAa,mBAAO,CAAC,0FAAgC;AACrD,aAAa,mBAAO,CAAC,8FAAkC,YAAY;AACnE,aAAa,mBAAO,CAAC,wEAAuB;AAC5C,aAAa,mBAAO,CAAC,sFAA8B,YAAY;AAC/D,aAAa,mBAAO,CAAC,sEAAsB;AAC3C,aAAa,mBAAO,CAAC,oFAA6B;AAClD,aAAa,mBAAO,CAAC,4EAAyB;AAC9C,aAAa,mBAAO,CAAC,kFAA4B;AACjD,aAAa,mBAAO,CAAC,oFAA6B;AAClD,aAAa,mBAAO,CAAC,wFAA+B,YAAY;AAChE,aAAa,mBAAO,CAAC,wDAAe;AACpC,iC;;;;;;UCzCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;;;ACrBA,0FAAiD;AACjD,8FAAiD;AACjD,qFAA2C;AAC3C,oGAAqD;AAErD,IAAM,IAAI,GAAS,IAAI,kBAAI,CAAC,EAAC,UAAU,EAAE,gBAAgB,EAAC,CAAC,CAAC;AAE5D,uBAAuB;AACvB,IAAM,KAAK,GAAU,IAAI,mBAAK,CAAC,IAAI,CAAC,CAAC;AAErC,iCAAiC;AACjC,IAAM,MAAM,GAAW,IAAI,oBAAM,CAAC,KAAK,CAAC,CAAC;AACzC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;AAE5B,SAAS;AACT,IAAM,MAAM,GAAG,gBAAa,CAAC,KAAK,CAAC,CAAC;AACpC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;AAE5B,MAAM;AACN,IAAM,IAAI,GAAG,aAAU,CAAC,KAAK,CAAC,CAAC;AAC/B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;AACrC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAE1B,IAAM,IAAI,GAAG,aAAU,CAAC,KAAK,CAAC,CAAC;AAC/B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AACjC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAE1B,IAAM,QAAQ,GAAG,kBAAe,CAAC,KAAK,CAAC,CAAC;AACxC,iCAAiC;AACjC,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAE9B,8CAA8C;AAC9C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAE9B,kBAAkB;AAClB,IAAI,CAAC,IAAI,EAAE,CAAC;AAEZ,gBAAgB;AAChB,IAAI,CAAC,GAAG,EAAE,CAAC","file":"game.js","sourcesContent":["import {Behaviour, KeyCode, Transform, Vector2D} from 'game-engine';\r\n\r\n\r\nexport class PlayerInputBehaviour extends Behaviour {\r\n\r\n    //********************************************************************************\r\n    //** attributes:\r\n    //********************************************************************************\r\n\r\n    public thrust: number = 100;\r\n    public _force: Vector2D = Vector2D.Zero;\r\n    public _velocity: Vector2D = Vector2D.Zero;\r\n    private _transform: Transform;\r\n\r\n    //********************************************************************************\r\n    //** public:\r\n    //********************************************************************************\r\n\r\n    /**\r\n     * Initialize component\r\n     */\r\n    initialize(): void {\r\n        this._transform = this._owner.getComponent(Transform);\r\n    }\r\n\r\n    /**\r\n     * Update component\r\n     * @param {number} deltaTime\r\n     */\r\n    update(deltaTime: number): void {\r\n        if (this._input.isKeyDown(KeyCode.A)) {\r\n            this._applyForce(Vector2D.Left.multiply(this.thrust));\r\n        }\r\n        if (this._input.isKeyDown(KeyCode.D)) {\r\n            this._applyForce(Vector2D.Right.multiply(this.thrust));\r\n        }\r\n        if (this._input.isKeyDown(KeyCode.W)) {\r\n            this._applyForce(Vector2D.Up.multiply(this.thrust));\r\n        }\r\n        if (this._input.isKeyDown(KeyCode.S)) {\r\n            this._applyForce(Vector2D.Down.multiply(this.thrust));\r\n        }\r\n\r\n        this._applyFriction();\r\n        this._applyDrag();\r\n\r\n        let acceleration: Vector2D = this._force.multiply(deltaTime);\r\n        this._velocity = this._velocity.add(acceleration);\r\n        this._transform.translate(this._velocity);\r\n        this._force = Vector2D.Zero;\r\n    }\r\n\r\n    private _applyDrag() {\r\n        const drag: Vector2D = this._velocity.normalize().multiply(-1);\r\n        const c = 0.1;\r\n        this._applyForce(drag.multiply(this._velocity.lengthSqr() * c))\r\n    }\r\n\r\n    private _applyFriction(): void {\r\n        let velLength = this._velocity.length();\r\n        let forceLength = this._force.length();\r\n        if (forceLength === 0 && velLength < 0.01 && velLength > -0.01) {\r\n            this._force = this._force.multiply(0);\r\n        } else {\r\n            let f = this._velocity.normalize().multiply(-50);\r\n            this._force = this._force.add(f);\r\n        }\r\n    }\r\n\r\n    private _applyForce(force: Vector2D): void  {\r\n        this._force = this._force.add(force);\r\n    }\r\n}\r\n","import {GameObject, Rectangle, Scene, ShapeRenderer} from 'game-engine';\r\n\r\nexport default function boxFactory(scene: Scene): GameObject {\r\n    const box = new GameObject(scene);\r\n    const render = box.attachComponent(ShapeRenderer);\r\n\r\n    render.shape = new Rectangle(100, 100);\r\n    render.color = \"red\";\r\n\r\n    return box;\r\n}\r\n","import {GameObject, Scene, ShapeRenderer, Polygon, Vertex} from 'game-engine';\r\n\r\nconst pentagonVertices: Vertex[] = [];\r\nconst angle: number = (Math.PI*2)/5;\r\nfor (let i = 0; i < 5; i++) {\r\n    pentagonVertices.push([\r\n        Math.cos(angle) * 50,\r\n        Math.sin(angle) * 50\r\n    ]);\r\n}\r\n\r\nexport default function pentagonFactory(scene: Scene): GameObject {\r\n    const pentagon = new GameObject(scene);\r\n\r\n    const shapeRenderer = pentagon.attachComponent(ShapeRenderer);\r\n    shapeRenderer.shape = new Polygon(pentagonVertices);\r\n    shapeRenderer.color = \"green\";\r\n\r\n    return pentagon;\r\n}\r\n\r\n","import {Circle, GameObject, Scene, ShapeRenderer} from 'game-engine';\r\nimport {PlayerInputBehaviour} from '../components/PlayerInputBehaviour';\r\n\r\nexport default function playerFactory(scene: Scene): GameObject {\r\n    // create a game object that represents the player.\r\n    let player: GameObject = new GameObject(scene);\r\n\r\n    // attach a rendering component to player game object.\r\n    let renderer: ShapeRenderer = player.attachComponent(ShapeRenderer);\r\n    renderer.color = \"blue\";\r\n    renderer.shape = new Circle(30);\r\n\r\n    // attach a PlayerInputBehaviour component to player.\r\n    player.attachComponent(PlayerInputBehaviour);\r\n\r\n    return player;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isDisposable = void 0;\r\n/**\r\n * Checks if object is disposable.\r\n * @param object\r\n */\r\nfunction isDisposable(object) {\r\n    return typeof object[\"dispose\"] === \"function\";\r\n}\r\nexports.isDisposable = isDisposable;\r\n//# sourceMappingURL=IDisposable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Game = void 0;\r\nvar Rectangle_1 = require(\"./geometry/Rectangle\");\r\nvar Canvas2DRenderer_1 = require(\"./rendering/Canvas2DRenderer\");\r\nvar InputManager_1 = require(\"./input/InputManager\");\r\nvar SceneManager_1 = require(\"./scenes/SceneManager\");\r\nvar Game = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Game(options) {\r\n        this._previousDelta = 0;\r\n        this._options = Object.assign({}, _defaultOptions, options);\r\n        this._canvas = document.getElementById(\"c\");\r\n        this._input = new InputManager_1.InputManager();\r\n        this._renderer = new Canvas2DRenderer_1.Canvas2DRenderer(this._canvas);\r\n        this._sceneManager = new SceneManager_1.SceneManager(this);\r\n        this._updateViewPort();\r\n    }\r\n    Object.defineProperty(Game.prototype, \"viewPort\", {\r\n        //********************************************\r\n        //** getters:\r\n        //********************************************\r\n        get: function () { return this._viewPort; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Game.prototype, \"input\", {\r\n        get: function () { return this._input; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Game.prototype, \"sceneManager\", {\r\n        get: function () { return this._sceneManager; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Game.prototype, \"canvas\", {\r\n        get: function () { return this._canvas; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //********************************************\r\n    //**public:\r\n    //********************************************\r\n    /**\r\n     * Initialize game variables and configs.\r\n     * @param options\r\n     */\r\n    Game.prototype.init = function () {\r\n        this._input.init();\r\n        return this;\r\n    };\r\n    /**\r\n     * Start game loop\r\n     */\r\n    Game.prototype.run = function () {\r\n        this._update(0);\r\n    };\r\n    //********************************************\r\n    //**private:\r\n    //********************************************\r\n    /**\r\n     * Updates the view port.\r\n     */\r\n    Game.prototype._updateViewPort = function () {\r\n        this._viewPort = {\r\n            width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\r\n            height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0)\r\n        };\r\n        this._canvas.width = this._viewPort.width;\r\n        this._canvas.height = this._viewPort.height;\r\n    };\r\n    /**\r\n     * Update and redraw game state.\r\n     *\r\n     * @param now\r\n     */\r\n    Game.prototype._update = function (now) {\r\n        var deltaTime = (now - this._previousDelta) / 1000;\r\n        this._previousDelta = now;\r\n        this._updateViewPort();\r\n        this._sceneManager.update(deltaTime);\r\n        this._render(deltaTime);\r\n        this._input.update();\r\n        requestAnimationFrame(this._update.bind(this));\r\n    };\r\n    /**\r\n     * Clear canvas and render scene.\r\n     *\r\n     * @param dt\r\n     */\r\n    Game.prototype._render = function (dt) {\r\n        var clearRect = new Rectangle_1.Rectangle(this._viewPort.width, this._viewPort.height);\r\n        this._renderer.renderRect(0, 0, clearRect, this._options.clearColor);\r\n        this._sceneManager.renderScene();\r\n    };\r\n    return Game;\r\n}());\r\nexports.Game = Game;\r\n/**\r\n *\r\n */\r\nvar _defaultOptions = {\r\n    clearColor: \"#000000\"\r\n};\r\n//# sourceMappingURL=Game.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Behaviour = void 0;\r\nvar Component_1 = require(\"./Component\");\r\nvar Behaviour = /** @class */ (function (_super) {\r\n    __extends(Behaviour, _super);\r\n    //********************************************\r\n    //**ctor:\r\n    //********************************************\r\n    function Behaviour(owner) {\r\n        var _this = _super.call(this, owner) || this;\r\n        // add component to update manager.\r\n        owner.scene.updateManager.add(_this);\r\n        _this._input = owner.scene.game.input;\r\n        return _this;\r\n    }\r\n    //********************************************\r\n    //** \r\n    //********************************************\r\n    /**\r\n     * Remove component from update manager\r\n     */\r\n    Behaviour.prototype.dispose = function () {\r\n        this._owner.scene.updateManager.remove(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return Behaviour;\r\n}(Component_1.Component));\r\nexports.Behaviour = Behaviour;\r\n//# sourceMappingURL=Behaviour.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Component = void 0;\r\nvar Component = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Component(owner) {\r\n        this._owner = owner;\r\n    }\r\n    //********************************************\r\n    //**public:\r\n    //********************************************\r\n    Component.prototype.initialize = function () { };\r\n    Component.prototype.dispose = function () { };\r\n    return Component;\r\n}());\r\nexports.Component = Component;\r\n//# sourceMappingURL=Component.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ShapeRenderer = void 0;\r\nvar Component_1 = require(\"./Component\");\r\nvar Transform_1 = require(\"./Transform\");\r\nvar Circle_1 = require(\"../geometry/Circle\");\r\nvar Rectangle_1 = require(\"../geometry/Rectangle\");\r\nvar Polygon_1 = require(\"../geometry/Polygon\");\r\nvar ShapeRenderer = /** @class */ (function (_super) {\r\n    __extends(ShapeRenderer, _super);\r\n    /**\r\n     *\r\n     */\r\n    function ShapeRenderer(owner) {\r\n        var _this = _super.call(this, owner) || this;\r\n        // add component to renderer.\r\n        _this._owner.scene.renderer.add(_this);\r\n        return _this;\r\n    }\r\n    //********************************************\r\n    //**public:\r\n    //********************************************\r\n    /**\r\n     *\r\n     */\r\n    ShapeRenderer.prototype.initialize = function () {\r\n        this._transform = this._owner.getComponent(Transform_1.Transform);\r\n    };\r\n    /**\r\n     *\r\n     * @param ctx\r\n     */\r\n    ShapeRenderer.prototype.render = function (renderer, camera) {\r\n        var screenPos = camera.getScreenPosition(this._owner);\r\n        if (this.shape instanceof Circle_1.Circle) {\r\n            var c = new Circle_1.Circle(this.shape.r * this._transform.scale.x);\r\n            renderer.renderCircle(screenPos.x, screenPos.y, c, this.color);\r\n        }\r\n        else if (this.shape instanceof Rectangle_1.Rectangle) {\r\n            var rect = new Rectangle_1.Rectangle(this.shape.width * this._transform.scale.x, this.shape.heigth * this._transform.scale.y);\r\n            renderer.renderRect(screenPos.x, screenPos.y, this.shape, this.color);\r\n        }\r\n        else if (this.shape instanceof Polygon_1.Polygon) {\r\n            renderer.renderPolygon(screenPos.x, screenPos.y, this._owner.transform.rotation.angle(), this.shape);\r\n        }\r\n        /*else if (this.shape instanceof Line) {\r\n            renderer.renderLine(this.shape, this.color);\r\n        }*/\r\n    };\r\n    /**\r\n     * Remove component from renderer.\r\n     */\r\n    ShapeRenderer.prototype.dispose = function () {\r\n        this._owner.scene.renderer.remove(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return ShapeRenderer;\r\n}(Component_1.Component));\r\nexports.ShapeRenderer = ShapeRenderer;\r\n//# sourceMappingURL=ShapeRenderer.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Transform = void 0;\r\nvar Vector2D_1 = require(\"../math/Vector2D\");\r\nvar Component_1 = require(\"./Component\");\r\nvar Transform = /** @class */ (function (_super) {\r\n    __extends(Transform, _super);\r\n    function Transform() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._position = Vector2D_1.Vector2D.Zero;\r\n        _this._rotation = Vector2D_1.Vector2D.Zero;\r\n        _this._scale = Vector2D_1.Vector2D.One;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Transform.prototype, \"position\", {\r\n        get: function () { return this._position; },\r\n        set: function (v) { this._position = v; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Transform.prototype, \"rotation\", {\r\n        get: function () { return this._rotation; },\r\n        set: function (v) { this._rotation = v; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Transform.prototype, \"scale\", {\r\n        get: function () { return this._scale; },\r\n        set: function (v) { this._scale = v; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //********************************************************************************\r\n    //** public:\r\n    //********************************************************************************\r\n    /**\r\n     * Translate the position in the direction of the vector.\r\n     *\r\n     * @param {Vector2D} vec\r\n     */\r\n    Transform.prototype.translate = function (vec, y) {\r\n        if (typeof vec === \"number\") {\r\n            this._position = this._position.add(vec, y);\r\n        }\r\n        else {\r\n            this._position = this._position.add(vec);\r\n        }\r\n    };\r\n    return Transform;\r\n}(Component_1.Component));\r\nexports.Transform = Transform;\r\n//# sourceMappingURL=Transform.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Camera = void 0;\r\nvar gameobject_1 = require(\"./gameobject\");\r\nvar Camera = /** @class */ (function (_super) {\r\n    __extends(Camera, _super);\r\n    function Camera() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Get screen position\r\n     *\r\n     * @param {GameObject} gameObject\r\n     * @return {Vector2D}\r\n     */\r\n    Camera.prototype.getScreenPosition = function (gameObject) {\r\n        var viewPort = this.scene.game.viewPort;\r\n        var cameraOrigin = this.transform.position.flip().add(viewPort.width / 2, viewPort.height / 2);\r\n        var worldPos = this.getWorldPosition(gameObject);\r\n        var offset = cameraOrigin.add(worldPos);\r\n        return (offset);\r\n    };\r\n    /**\r\n     * Gets the world position of the game object's position.\r\n     *\r\n     * @param {GameObject} gameObject\r\n     * @return {Vector2D}\r\n     */\r\n    Camera.prototype.getWorldPosition = function (gameObject) {\r\n        var worldPos = gameObject.transform.position;\r\n        if (gameObject.parent != null) {\r\n            worldPos = worldPos.add(this.getWorldPosition(gameObject.parent));\r\n        }\r\n        return worldPos;\r\n    };\r\n    return Camera;\r\n}(gameobject_1.GameObject));\r\nexports.Camera = Camera;\r\n//# sourceMappingURL=Camera.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GameObject = void 0;\r\nvar Transform_1 = require(\"../components/Transform\");\r\nvar GameObject = /** @class */ (function () {\r\n    //********************************************\r\n    //**ctor:\r\n    //********************************************\r\n    function GameObject(scene, name) {\r\n        this._children = new Set();\r\n        this._scene = scene;\r\n        this._components = new Map();\r\n        this._transform = new Transform_1.Transform(this);\r\n        this._transform = this.attachComponent(Transform_1.Transform);\r\n    }\r\n    Object.defineProperty(GameObject.prototype, \"transform\", {\r\n        //********************************************\r\n        //** getters and setters:\r\n        //********************************************\r\n        get: function () { return this._transform; },\r\n        set: function (v) { this._transform = v; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameObject.prototype, \"scene\", {\r\n        get: function () { return this._scene; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameObject.prototype, \"children\", {\r\n        get: function () { return Array.from(this._children); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameObject.prototype, \"parent\", {\r\n        get: function () { return this._parent; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameObject.prototype, \"name\", {\r\n        get: function () { return this._name; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //********************************************\r\n    //**public:\r\n    //********************************************\r\n    GameObject.prototype.initialize = function () {\r\n        this._components.forEach(function (componentOfType) { return componentOfType.forEach(function (x) { return x.initialize(); }); });\r\n    };\r\n    /**\r\n     *\r\n     * @param parent\r\n     */\r\n    GameObject.prototype.setParent = function (parent) {\r\n        if (parent != null) {\r\n            parent.addChild(this);\r\n            this._parent = parent;\r\n        }\r\n        else if (this._parent != null) {\r\n            this._parent.removeChild(this);\r\n            this._parent = null;\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param child\r\n     */\r\n    GameObject.prototype.addChild = function (child) {\r\n        this._children.add(child);\r\n    };\r\n    /**\r\n     *\r\n     * @param child\r\n     */\r\n    GameObject.prototype.removeChild = function (child) {\r\n        this._children.delete(child);\r\n    };\r\n    /**\r\n     *\r\n     * @param type\r\n     */\r\n    GameObject.prototype.attachComponent = function (type) {\r\n        if (type == null) {\r\n            throw new Error(\"Component cannot be null or undefined\");\r\n        }\r\n        if (type === Transform_1.Transform && this._components.has(type)) {\r\n            throw new Error(\"A game object can only have one Transform component.\");\r\n        }\r\n        var component = new type(this);\r\n        var value = this._components.get(type);\r\n        // Component does not exist on game object\r\n        if (value == null) {\r\n            this._components.set(type, [component]);\r\n        }\r\n        //  One or more components exist on game object. Add to existing list.\r\n        else if (Array.isArray(value)) {\r\n            value.push(component);\r\n        }\r\n        return component;\r\n    };\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param instance\r\n     */\r\n    GameObject.prototype.detachComponent = function (type, instance) {\r\n        if (instance === void 0) { instance = null; }\r\n        if (this._components.has(type) === false) {\r\n            return null;\r\n        }\r\n        if (instance != null) {\r\n            var collection = this._components.get(type);\r\n            if (collection.length === 1) {\r\n                var detached = this.getComponent(type);\r\n                this._components.delete(type);\r\n                return [detached];\r\n            }\r\n            else {\r\n                var detached = collection[collection.indexOf(instance)];\r\n                this._components.set(type, collection.slice(collection.indexOf(instance), 1));\r\n                return [detached];\r\n            }\r\n        }\r\n        else {\r\n            var detached = this._components.get(type);\r\n            this._components.delete(type);\r\n            return detached;\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param type\r\n     */\r\n    GameObject.prototype.getComponent = function (type) {\r\n        if (this._components.has(type) === false) {\r\n            return null;\r\n        }\r\n        return this._components.get(type)[0];\r\n    };\r\n    /**\r\n     *\r\n     * @param type\r\n     */\r\n    GameObject.prototype.getComponents = function (type) {\r\n        if (this._components.has(type) === false) {\r\n            return null;\r\n        }\r\n        return this._components.get(type);\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    GameObject.prototype.dispose = function () {\r\n        this._components.forEach(function (componentsOfType) { return componentsOfType.forEach(function (x) { return x.dispose(); }); });\r\n    };\r\n    return GameObject;\r\n}());\r\nexports.GameObject = GameObject;\r\n//# sourceMappingURL=gameobject.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Circle = void 0;\r\nvar Circle = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Circle(radius) {\r\n        this._r = radius;\r\n    }\r\n    Object.defineProperty(Circle.prototype, \"r\", {\r\n        //********************************************\r\n        //** getters:\r\n        //********************************************\r\n        get: function () { return this._r; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Circle;\r\n}());\r\nexports.Circle = Circle;\r\n//# sourceMappingURL=Circle.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=IShape.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Line = void 0;\r\nvar Vector2D_1 = require(\"../math/Vector2D\");\r\nvar Line = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Line(p1, p2) {\r\n        this._p1 = new Vector2D_1.Vector2D(p1.x, p1.y);\r\n        this._p2 = new Vector2D_1.Vector2D(p2.x, p2.y);\r\n        this._dir = this._p2.subtract(this._p1);\r\n        this._length = this._dir.length();\r\n    }\r\n    Object.defineProperty(Line.prototype, \"p1\", {\r\n        //********************************************\r\n        //** getters:\r\n        //********************************************\r\n        get: function () { return this._p1; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Line.prototype, \"p2\", {\r\n        get: function () { return this._p2; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Line.prototype, \"direction\", {\r\n        get: function () { return this._dir; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Line.prototype, \"length\", {\r\n        get: function () { return this._length; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Line;\r\n}());\r\nexports.Line = Line;\r\n//# sourceMappingURL=Line.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Polygon = void 0;\r\nvar Polygon = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Polygon(vertices) {\r\n        this._vertices = vertices;\r\n    }\r\n    Object.defineProperty(Polygon.prototype, \"vertices\", {\r\n        //********************************************\r\n        //** getters:\r\n        //********************************************\r\n        get: function () { return this._vertices; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Polygon.prototype, \"origin\", {\r\n        get: function () {\r\n            return this._origin || (this._origin = this._calculateCenterOrigin());\r\n        },\r\n        set: function (origin) { this._origin = origin; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //********************************************\r\n    //** methods:\r\n    //********************************************\r\n    Polygon.prototype._calculateCenterOrigin = function () {\r\n        if (this._vertices.length === 0) {\r\n            return { x: 0, y: 0 };\r\n        }\r\n        var minX = Number.MAX_SAFE_INTEGER;\r\n        var maxX = -Number.MAX_SAFE_INTEGER;\r\n        var minY = Number.MAX_SAFE_INTEGER;\r\n        var maxY = -Number.MAX_SAFE_INTEGER;\r\n        this._vertices.forEach(function (_a) {\r\n            var x = _a[0], y = _a[1];\r\n            minX = Math.min(x, minX);\r\n            maxX = Math.max(x, maxX);\r\n            minY = Math.min(y, minY);\r\n            maxY = Math.max(y, maxY);\r\n        });\r\n        return {\r\n            x: (maxX - minY) / 2,\r\n            y: (maxY - minY) / 2\r\n        };\r\n    };\r\n    return Polygon;\r\n}());\r\nexports.Polygon = Polygon;\r\n//# sourceMappingURL=Polygon.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Rectangle = void 0;\r\nvar Rectangle = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Rectangle(width, height) {\r\n        this._width = width;\r\n        this._height = height;\r\n    }\r\n    Object.defineProperty(Rectangle.prototype, \"width\", {\r\n        //********************************************\r\n        //** getters:\r\n        //********************************************\r\n        get: function () { return this._width; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"heigth\", {\r\n        get: function () { return this._height; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Rectangle;\r\n}());\r\nexports.Rectangle = Rectangle;\r\n//# sourceMappingURL=Rectangle.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InputManager = void 0;\r\nvar InputManager = /** @class */ (function () {\r\n    function InputManager() {\r\n        //********************************************\r\n        //** attributes:\r\n        //********************************************\r\n        this._currentKeyMap = {};\r\n        this._previousKeyMap = {};\r\n        this._currentMouseBtnMap = {};\r\n        this._previousMouseBtnMap = {};\r\n        this._mousePosition = { x: 0, y: 0 };\r\n    }\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    InputManager.prototype.InputManager = function () {\r\n    };\r\n    //********************************************\r\n    //** public:\r\n    //********************************************\r\n    /**\r\n     *\r\n     */\r\n    InputManager.prototype.init = function () {\r\n        window.addEventListener(\"mousedown\", this._onMouseDownEventHandler.bind(this));\r\n        window.addEventListener(\"mouseup\", this._onMouseUpEventHandler.bind(this));\r\n        window.addEventListener(\"mousemove\", this._onMouseMoveEventHandler.bind(this));\r\n        window.addEventListener(\"keydown\", this._onKeyDownEventHandler.bind(this));\r\n        window.addEventListener(\"keyup\", this._onKeyUpEventHandler.bind(this));\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    InputManager.prototype.dispose = function () {\r\n        window.removeEventListener(\"mousedown\", this._onMouseDownEventHandler.bind(this));\r\n        window.removeEventListener(\"mouseup\", this._onMouseUpEventHandler.bind(this));\r\n        window.removeEventListener(\"mousemove\", this._onMouseMoveEventHandler.bind(this));\r\n        window.removeEventListener(\"keydown\", this._onKeyDownEventHandler.bind(this));\r\n        window.removeEventListener(\"keyup\", this._onKeyUpEventHandler.bind(this));\r\n    };\r\n    /**\r\n     * Gets the mouse position.\r\n     */\r\n    InputManager.prototype.getMousePosition = function (relativeElement) {\r\n        if (relativeElement == null) {\r\n            return this._mousePosition;\r\n        }\r\n        else {\r\n            var bbox = relativeElement.getBoundingClientRect(), relativeX = this._mousePosition.x - bbox.left, relativeY = this._mousePosition.y - bbox.top;\r\n            relativeX = Math.max(0, Math.min(relativeX, bbox.width));\r\n            relativeY = Math.max(0, Math.min(relativeY, bbox.height));\r\n            return {\r\n                x: relativeX,\r\n                y: relativeY\r\n            };\r\n        }\r\n    };\r\n    /**\r\n     * Checks if the given mouse btn is held down.\r\n     *\r\n     * @param btnCode\r\n     */\r\n    InputManager.prototype.isMouseButtonDown = function (btnCode) {\r\n        return this._currentMouseBtnMap[btnCode] === true;\r\n    };\r\n    /**\r\n     * Checks if the given mouse btn is pressed.\r\n     *\r\n     * @param btnCode\r\n     */\r\n    InputManager.prototype.isMouseButtonPressed = function (btnCode) {\r\n        return this._currentMouseBtnMap[btnCode] === true && this._previousMouseBtnMap[btnCode] !== true;\r\n    };\r\n    /**\r\n     *\r\n     * @param btnCode\r\n     */\r\n    InputManager.prototype.isMouseButtonReleased = function (btnCode) {\r\n        return this._currentMouseBtnMap[btnCode] !== true && this._previousMouseBtnMap[btnCode] === true;\r\n    };\r\n    /**\r\n     * Checks if the given key is held down.\r\n     *\r\n     * @param btnCode\r\n     */\r\n    InputManager.prototype.isKeyDown = function (keyCode) {\r\n        return this._currentKeyMap[keyCode] === true;\r\n    };\r\n    /**\r\n    * Checks if the given key is pressed.\r\n    *\r\n    * @param btnCode\r\n    */\r\n    InputManager.prototype.isKeyPressed = function (keyCode) {\r\n        return this._currentKeyMap[keyCode] === true && this._previousKeyMap[keyCode] !== true;\r\n    };\r\n    /**\r\n     * Update input state.\r\n     */\r\n    InputManager.prototype.update = function () {\r\n        this._previousKeyMap = Object.assign({}, this._currentKeyMap);\r\n        this._previousMouseBtnMap = Object.assign({}, this._currentMouseBtnMap);\r\n    };\r\n    //********************************************\r\n    //** private:\r\n    //********************************************\r\n    InputManager.prototype._onMouseDownEventHandler = function (event) {\r\n        this._currentMouseBtnMap[event.button] = true;\r\n    };\r\n    InputManager.prototype._onMouseUpEventHandler = function (event) {\r\n        delete this._currentMouseBtnMap[event.button];\r\n    };\r\n    InputManager.prototype._onKeyDownEventHandler = function (event) {\r\n        event.preventDefault();\r\n        this._currentKeyMap[event.keyCode] = true;\r\n    };\r\n    InputManager.prototype._onKeyUpEventHandler = function (event) {\r\n        delete this._currentKeyMap[event.keyCode];\r\n    };\r\n    InputManager.prototype._onMouseMoveEventHandler = function (event) {\r\n        this._mousePosition.x = event.clientX;\r\n        this._mousePosition.y = event.clientY;\r\n    };\r\n    return InputManager;\r\n}());\r\nexports.InputManager = InputManager;\r\n//# sourceMappingURL=InputManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KeyCode = void 0;\r\nvar KeyCode;\r\n(function (KeyCode) {\r\n    // Special keys\r\n    KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCode[KeyCode[\"Shift\"] = 16] = \"Shift\";\r\n    KeyCode[KeyCode[\"Cntr\"] = 17] = \"Cntr\";\r\n    KeyCode[KeyCode[\"Alt\"] = 18] = \"Alt\";\r\n    KeyCode[KeyCode[\"PauseBreak\"] = 19] = \"PauseBreak\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 35] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\r\n    KeyCode[KeyCode[\"Arrow_Left\"] = 37] = \"Arrow_Left\";\r\n    KeyCode[KeyCode[\"Arrow_Up\"] = 38] = \"Arrow_Up\";\r\n    KeyCode[KeyCode[\"Arrow_Right\"] = 39] = \"Arrow_Right\";\r\n    KeyCode[KeyCode[\"Arrow_Down\"] = 40] = \"Arrow_Down\";\r\n    KeyCode[KeyCode[\"PrintScreen\"] = 44] = \"PrintScreen\";\r\n    KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\r\n    // Keys\r\n    KeyCode[KeyCode[\"Key_0\"] = 48] = \"Key_0\";\r\n    KeyCode[KeyCode[\"Key_1\"] = 49] = \"Key_1\";\r\n    KeyCode[KeyCode[\"Key_2\"] = 50] = \"Key_2\";\r\n    KeyCode[KeyCode[\"Key_3\"] = 51] = \"Key_3\";\r\n    KeyCode[KeyCode[\"Key_4\"] = 52] = \"Key_4\";\r\n    KeyCode[KeyCode[\"Key_5\"] = 53] = \"Key_5\";\r\n    KeyCode[KeyCode[\"Key_6\"] = 54] = \"Key_6\";\r\n    KeyCode[KeyCode[\"Key_7\"] = 55] = \"Key_7\";\r\n    KeyCode[KeyCode[\"Key_8\"] = 56] = \"Key_8\";\r\n    KeyCode[KeyCode[\"Key_9\"] = 57] = \"Key_9\";\r\n    KeyCode[KeyCode[\"A\"] = 65] = \"A\";\r\n    KeyCode[KeyCode[\"B\"] = 66] = \"B\";\r\n    KeyCode[KeyCode[\"C\"] = 67] = \"C\";\r\n    KeyCode[KeyCode[\"D\"] = 68] = \"D\";\r\n    KeyCode[KeyCode[\"E\"] = 69] = \"E\";\r\n    KeyCode[KeyCode[\"F\"] = 70] = \"F\";\r\n    KeyCode[KeyCode[\"G\"] = 71] = \"G\";\r\n    KeyCode[KeyCode[\"H\"] = 72] = \"H\";\r\n    KeyCode[KeyCode[\"I\"] = 73] = \"I\";\r\n    KeyCode[KeyCode[\"J\"] = 74] = \"J\";\r\n    KeyCode[KeyCode[\"K\"] = 75] = \"K\";\r\n    KeyCode[KeyCode[\"L\"] = 76] = \"L\";\r\n    KeyCode[KeyCode[\"M\"] = 77] = \"M\";\r\n    KeyCode[KeyCode[\"N\"] = 78] = \"N\";\r\n    KeyCode[KeyCode[\"O\"] = 79] = \"O\";\r\n    KeyCode[KeyCode[\"P\"] = 80] = \"P\";\r\n    KeyCode[KeyCode[\"Q\"] = 81] = \"Q\";\r\n    KeyCode[KeyCode[\"R\"] = 82] = \"R\";\r\n    KeyCode[KeyCode[\"S\"] = 83] = \"S\";\r\n    KeyCode[KeyCode[\"T\"] = 84] = \"T\";\r\n    KeyCode[KeyCode[\"U\"] = 85] = \"U\";\r\n    KeyCode[KeyCode[\"V\"] = 86] = \"V\";\r\n    KeyCode[KeyCode[\"W\"] = 87] = \"W\";\r\n    KeyCode[KeyCode[\"X\"] = 88] = \"X\";\r\n    KeyCode[KeyCode[\"Y\"] = 89] = \"Y\";\r\n    KeyCode[KeyCode[\"Z\"] = 90] = \"Z\";\r\n    KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\r\n    KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\r\n    KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\r\n    KeyCode[KeyCode[\"Tilde\"] = 220] = \"Tilde\";\r\n})(KeyCode = exports.KeyCode || (exports.KeyCode = {}));\r\n//# sourceMappingURL=KeyCode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MouseButtonCode = void 0;\r\nvar MouseButtonCode;\r\n(function (MouseButtonCode) {\r\n    MouseButtonCode[MouseButtonCode[\"Left\"] = 0] = \"Left\";\r\n    MouseButtonCode[MouseButtonCode[\"Middle\"] = 1] = \"Middle\";\r\n    MouseButtonCode[MouseButtonCode[\"Right\"] = 2] = \"Right\";\r\n})(MouseButtonCode = exports.MouseButtonCode || (exports.MouseButtonCode = {}));\r\n//# sourceMappingURL=MouseButtonCode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=point.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Vector2D = void 0;\r\nvar Vector2D = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Vector2D(x, y) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        this._x = x;\r\n        this._y = y;\r\n    }\r\n    Object.defineProperty(Vector2D.prototype, \"x\", {\r\n        //********************************************\r\n        //**\r\n        //********************************************\r\n        get: function () { return this._x; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Vector2D.prototype, \"y\", {\r\n        get: function () { return this._y; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Vector2D.prototype, \"isZero\", {\r\n        get: function () { return this.equal(Vector2D.Zero); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Vector2D.prototype, \"isOne\", {\r\n        get: function () { return this.equal(Vector2D.One); },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //********************************************\r\n    //** public:\r\n    //********************************************\r\n    /**\r\n     * Adds another vector to the vector.\r\n     * Returns a new instance of Vector2D\r\n     *\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.add = function (vec, y) {\r\n        var nx, ny;\r\n        if (typeof vec === \"number\") {\r\n            nx = this._x + vec;\r\n            ny = this._y + (y || vec);\r\n        }\r\n        else {\r\n            nx = this._x + vec.x;\r\n            ny = this._y + vec.y;\r\n        }\r\n        return new Vector2D(nx, ny);\r\n    };\r\n    /**\r\n     * Subtracts another vector to the vector.\r\n     * Returns a new instance of Vector2D\r\n     *\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.subtract = function (vec, y) {\r\n        var nx, ny;\r\n        if (typeof vec === \"number\") {\r\n            nx = this._x - vec;\r\n            ny = this._y - (y || vec);\r\n        }\r\n        else {\r\n            nx = this._x - vec.x;\r\n            ny = this._y - vec.y;\r\n        }\r\n        return new Vector2D(nx, ny);\r\n    };\r\n    /**\r\n     * Multiplies another vector to the vector.\r\n     * Returns a new instance of Vector2D\r\n     *\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.multiply = function (vec, y) {\r\n        var nx = 0, ny = 0;\r\n        if (typeof vec === \"number\") {\r\n            nx = this._x * vec;\r\n            ny = this._y * (y || vec);\r\n        }\r\n        else {\r\n            nx = this._x * vec.x;\r\n            ny = this._y * vec.y;\r\n        }\r\n        return new Vector2D(nx, ny);\r\n    };\r\n    /**\r\n     * Multiplies another vector to the vector.\r\n     * Returns a new instance of Vector2D\r\n     *\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.divide = function (vec, y) {\r\n        var nx = 0, ny = 0;\r\n        if (typeof vec === \"number\") {\r\n            nx = this._x / vec;\r\n            ny = this._y / (y || vec);\r\n        }\r\n        else {\r\n            nx = this._x / vec.x;\r\n            ny = this._y / vec.y;\r\n        }\r\n        return new Vector2D(nx, ny);\r\n    };\r\n    /**\r\n     * Normalizes the current vector.\r\n     * Returns a new instance of Vector2D\r\n     */\r\n    Vector2D.prototype.normalize = function () {\r\n        var lenght = this.length();\r\n        if (lenght != 0) {\r\n            return new Vector2D(this._x / lenght, this._y / lenght);\r\n        }\r\n        else {\r\n            return new Vector2D();\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Vector2D.prototype.normal = function () {\r\n        return new Vector2D(-this.y, this.x).normalize();\r\n    };\r\n    /**\r\n     * Gets the length of the current vector.\r\n     */\r\n    Vector2D.prototype.length = function () {\r\n        return Math.sqrt((this._x * this._x) + (this._y * this._y));\r\n    };\r\n    /**\r\n     * Gets the squared length of the current vector.\r\n     */\r\n    Vector2D.prototype.lengthSqr = function () {\r\n        return (this._x * this._x) + (this._y * this._y);\r\n    };\r\n    /**\r\n     * Checks if the vector x and y is equal to the given vector.\r\n     *\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.equal = function (vec) {\r\n        return vec != null && this._x === vec.x && this._y === vec.y;\r\n    };\r\n    /**\r\n     * Finds the dot product between the two vectors.\r\n     *\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.dot = function (vec) {\r\n        var unit1 = this.normalize(), unit2 = vec.normalize();\r\n        return (unit1.x * unit2.x) + (unit1.y * unit2.y);\r\n    };\r\n    /**\r\n     * Finds the cross product between two vectors.\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.cross = function (vec) {\r\n        var unit1 = this.normalize(), unit2 = vec.normalize();\r\n        return (unit1.x * unit2.x) - (unit1.y * unit2.y);\r\n    };\r\n    /**\r\n     * Checks if the\r\n     *\r\n     * @param vec\r\n     */\r\n    Vector2D.prototype.isPerpendicular = function (vec) {\r\n        return this.dot(vec) === 0;\r\n    };\r\n    /**\r\n     *\r\n     * @param {Vector2D} normal\r\n     * @return {Vector2D}\r\n     */\r\n    Vector2D.prototype.reflect = function (normal) {\r\n        var n = normal.normalize();\r\n        var dot = (this.x * n.x) + (this.y * n.y);\r\n        var x = this.x - 2 * dot * n.x;\r\n        var y = this.y - 2 * dot * n.y;\r\n        return new Vector2D(x, y);\r\n    };\r\n    /**\r\n     * Rotates the vector.\r\n     *\r\n     * @param {number} angle\r\n     * @return {Vector2D}\r\n     */\r\n    Vector2D.prototype.rotate = function (angle) {\r\n        var x = this.x * Math.cos(angle) - this.y * Math.sin(angle);\r\n        var y = this.x * Math.sin(angle) + this.y * Math.cos(angle);\r\n        return new Vector2D(x, y);\r\n    };\r\n    /**\r\n     *\r\n     * @return {Vector2D}\r\n     */\r\n    Vector2D.prototype.flip = function () {\r\n        return new Vector2D(-this.x, -this.y);\r\n    };\r\n    /**\r\n     * Gets the angle of the vector\r\n     */\r\n    Vector2D.prototype.angle = function () {\r\n        return Math.atan2(this.x, this.y);\r\n    };\r\n    //********************************************\r\n    //** read only attributes.\r\n    //********************************************\r\n    Vector2D.Zero = new Vector2D();\r\n    Vector2D.One = new Vector2D(1, 1);\r\n    Vector2D.Left = new Vector2D(-1, 0);\r\n    Vector2D.Right = new Vector2D(1, 0);\r\n    Vector2D.Up = new Vector2D(0, -1);\r\n    Vector2D.Down = new Vector2D(0, 1);\r\n    return Vector2D;\r\n}());\r\nexports.Vector2D = Vector2D;\r\n//# sourceMappingURL=Vector2D.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Canvas2DRenderer = void 0;\r\nvar Circle_1 = require(\"./../geometry/Circle\");\r\nvar Canvas2DRenderer = /** @class */ (function () {\r\n    //********************************************\r\n    //** ctor:\r\n    //********************************************\r\n    function Canvas2DRenderer(canvas) {\r\n        this._ctx = canvas.getContext(\"2d\");\r\n    }\r\n    Object.defineProperty(Canvas2DRenderer.prototype, \"renderingContext\", {\r\n        get: function () { return this._ctx; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //********************************************\r\n    //** public:\r\n    //********************************************\r\n    /**\r\n     *\r\n     * @param x\r\n     * @param y\r\n     * @param w\r\n     * @param h\r\n     * @param colorStyle\r\n     */\r\n    Canvas2DRenderer.prototype.renderRect = function (x, y, rect, colorStyle) {\r\n        if (colorStyle === void 0) { colorStyle = \"gray\"; }\r\n        this._ctx.fillStyle = colorStyle;\r\n        this._ctx.beginPath();\r\n        this._ctx.rect(x, y, rect.width, rect.heigth);\r\n        this._ctx.fill();\r\n    };\r\n    /**\r\n     *\r\n     * @param x\r\n     * @param y\r\n     * @param r\r\n     * @param colorStyle\r\n     */\r\n    Canvas2DRenderer.prototype.renderCircle = function (x, y, c, colorStyle) {\r\n        if (colorStyle === void 0) { colorStyle = \"gray\"; }\r\n        this._ctx.fillStyle = colorStyle;\r\n        this._ctx.beginPath();\r\n        this._ctx.arc(x, y, c.r, 0, 2 * Math.PI);\r\n        this._ctx.fill();\r\n    };\r\n    /**\r\n     *\r\n     * @param l\r\n     */\r\n    Canvas2DRenderer.prototype.renderLine = function (l, color) {\r\n        if (color === void 0) { color = \"red\"; }\r\n        this._ctx.strokeStyle = color;\r\n        this._ctx.lineWidth = 2;\r\n        this._ctx.beginPath();\r\n        this._ctx.moveTo(l.p1.x, l.p1.y);\r\n        this._ctx.lineTo(l.p2.x, l.p2.y);\r\n        this._ctx.stroke();\r\n    };\r\n    /**\r\n     *\r\n     * @param l\r\n     * @param color\r\n     */\r\n    Canvas2DRenderer.prototype.renderDirLine = function (l, color) {\r\n        if (color === void 0) { color = \"red\"; }\r\n        this.renderLine(l);\r\n        var c = new Circle_1.Circle(10);\r\n        this.renderCircle(l.p2.x, l.p2.y, c, color);\r\n    };\r\n    /**\r\n     *\r\n     * @param l\r\n     * @param color\r\n     */\r\n    Canvas2DRenderer.prototype.renderFatLine = function (l, color) {\r\n        if (color === void 0) { color = \"red\"; }\r\n        this._ctx.strokeStyle = color;\r\n        this._ctx.lineWidth = 5;\r\n        this._ctx.beginPath();\r\n        this._ctx.moveTo(l.p1.x, l.p1.y);\r\n        this._ctx.lineTo(l.p2.x, l.p2.y);\r\n        this._ctx.stroke();\r\n    };\r\n    /**\r\n     *\r\n     * @param x\r\n     * @param y\r\n     * @param txt\r\n     */\r\n    Canvas2DRenderer.prototype.renderText = function (txt, x, y) {\r\n        this._ctx.fillStyle = \"black\";\r\n        this._ctx.font = \"30px Arial\";\r\n        if (typeof x === \"number\") {\r\n            this._ctx.fillText(txt, x, y);\r\n        }\r\n        else {\r\n            this._ctx.fillText(txt, x.x, x.y);\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param txt\r\n     */\r\n    Canvas2DRenderer.prototype.getTextWidth = function (txt) {\r\n        this._ctx.font = \"30px Arial\";\r\n        return this._ctx.measureText(txt).width;\r\n    };\r\n    Canvas2DRenderer.prototype.renderPolygon = function (x, y, rotation, polygon, color) {\r\n        var _this = this;\r\n        if (color === void 0) { color = \"red\"; }\r\n        this._ctx.save();\r\n        this._ctx.fillStyle = color;\r\n        var origin = polygon.origin || [0, 0];\r\n        this._ctx.translate(x + origin[0], y + origin[1]);\r\n        this._ctx.rotate(rotation);\r\n        this._ctx.translate(-origin[0], -origin[1]);\r\n        this._ctx.beginPath();\r\n        polygon.vertices.forEach(function (vertex, i) {\r\n            (i === 0)\r\n                ? _this._ctx.moveTo(vertex[0], vertex[1])\r\n                : _this._ctx.lineTo(vertex[0], vertex[1]);\r\n        });\r\n        this._ctx.closePath();\r\n        this._ctx.fill();\r\n        // this._ctx.stroke();\r\n        this._ctx.restore();\r\n    };\r\n    return Canvas2DRenderer;\r\n}());\r\nexports.Canvas2DRenderer = Canvas2DRenderer;\r\n//# sourceMappingURL=Canvas2DRenderer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=IRenderable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RenderManager = void 0;\r\nvar Canvas2DRenderer_1 = require(\"./Canvas2DRenderer\");\r\nvar RenderManager = /** @class */ (function () {\r\n    //********************************************\r\n    //**ctor:\r\n    //********************************************\r\n    function RenderManager(canvas, scene) {\r\n        this._renderables = new Set();\r\n        this._renderer = new Canvas2DRenderer_1.Canvas2DRenderer(canvas);\r\n        this._scene = scene;\r\n    }\r\n    Object.defineProperty(RenderManager.prototype, \"camera\", {\r\n        //********************************************\r\n        //**public:\r\n        //********************************************\r\n        get: function () { return this._camera; },\r\n        set: function (camera) { this._camera = camera; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     *\r\n     */\r\n    RenderManager.prototype.add = function (updateable) {\r\n        if (updateable == null) {\r\n            throw new Error(\"Updateable cannot be null er undefined\");\r\n        }\r\n        this._renderables.add(updateable);\r\n    };\r\n    /**\r\n     *\r\n     * @param updateable\r\n     */\r\n    RenderManager.prototype.remove = function (updateable) {\r\n        if (updateable == null) {\r\n            throw new Error(\"Cannot delete updateable cannot be null er undefined\");\r\n        }\r\n        this._renderables.delete(updateable);\r\n    };\r\n    /**\r\n     *\r\n     * @param deltaTime\r\n     */\r\n    RenderManager.prototype.render = function () {\r\n        var _this = this;\r\n        if (this._camera != null) {\r\n            this._renderables.forEach(function (x) { return x.render(_this._renderer, _this._camera); });\r\n        }\r\n        else {\r\n            this._renderNoCameraMessage();\r\n        }\r\n    };\r\n    //********************************************************************************\r\n    //** private:\r\n    //********************************************************************************\r\n    RenderManager.prototype._renderNoCameraMessage = function () {\r\n        var viewPort = this._scene.game.viewPort;\r\n        var txt = \"No cameras rendering\";\r\n        var txtWidth = this._renderer.getTextWidth(txt);\r\n        var x = viewPort.width / 2 - txtWidth / 2;\r\n        var y = viewPort.height / 2;\r\n        this._renderer.renderText(txt, x, y);\r\n    };\r\n    return RenderManager;\r\n}());\r\nexports.RenderManager = RenderManager;\r\n//# sourceMappingURL=RenderManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Scene = void 0;\r\nvar UpdateManager_1 = require(\"../update/UpdateManager\");\r\nvar RenderManager_1 = require(\"../rendering/RenderManager\");\r\n/**\r\n * A scene that can update and render game objects.\r\n */\r\nvar Scene = /** @class */ (function () {\r\n    //********************************************\r\n    //**ctor:\r\n    //********************************************\r\n    function Scene(game) {\r\n        this._gameObjects = [];\r\n        this._game = game;\r\n        this._updateManager = new UpdateManager_1.UpdateManager();\r\n        this._rendererManager = new RenderManager_1.RenderManager(game.canvas, this);\r\n    }\r\n    Object.defineProperty(Scene.prototype, \"game\", {\r\n        //********************************************\r\n        //**getters:\r\n        //********************************************\r\n        get: function () { return this._game; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scene.prototype, \"updateManager\", {\r\n        get: function () { return this._updateManager; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scene.prototype, \"renderer\", {\r\n        get: function () { return this._rendererManager; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Scene.prototype, \"camera\", {\r\n        get: function () { return this._camera; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    //********************************************\r\n    //**public:\r\n    //********************************************\r\n    /**\r\n     * Adds a game object to the scene\r\n     *\r\n     * @param {GameObject} gameobject\r\n     */\r\n    Scene.prototype.addGameObject = function (gameobject) {\r\n        this._gameObjects.push(gameobject);\r\n    };\r\n    /**\r\n     * Sets the main camera and adds camera to scene\r\n     * @param {Camera} camera\r\n     */\r\n    Scene.prototype.setMainCamera = function (camera) {\r\n        this._camera = camera;\r\n        this._rendererManager.camera = camera;\r\n        this.addGameObject(camera);\r\n    };\r\n    /**\r\n     * Initializes the scene and all\r\n     * it's components.\r\n     *\r\n     * @param {Game} game\r\n     */\r\n    Scene.prototype.initialize = function (game) {\r\n        this._gameObjects.forEach(function (x) { return x.initialize(); });\r\n    };\r\n    /**\r\n     * Pause scene\r\n     * @param entity\r\n     */\r\n    Scene.prototype.pause = function (entity) {\r\n        //TODO: pause rendering and updating    \r\n    };\r\n    /**\r\n     * Resume scene.\r\n     * @param entity\r\n     */\r\n    Scene.prototype.resume = function (entity) {\r\n        //TODO: resume rendering and updating\r\n    };\r\n    /**\r\n     * Dispose scene and all its components.\r\n     * @param {Game} entity\r\n     */\r\n    Scene.prototype.dispose = function (entity) {\r\n        this._gameObjects.forEach(function (x) { return x.dispose(); });\r\n    };\r\n    return Scene;\r\n}());\r\nexports.Scene = Scene;\r\n//# sourceMappingURL=Scene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SceneManager = void 0;\r\nvar StateMachine_1 = require(\"../state/StateMachine\");\r\n/**\r\n * A manager for managing scenes.\r\n */\r\nvar SceneManager = /** @class */ (function (_super) {\r\n    __extends(SceneManager, _super);\r\n    function SceneManager() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Updates the current scene\r\n     * @param deltaTime - time since last frame.\r\n     */\r\n    SceneManager.prototype.update = function (deltaTime) {\r\n        var scene = this.peek();\r\n        if (scene != null) {\r\n            scene.updateManager.update(deltaTime);\r\n        }\r\n    };\r\n    /**\r\n     * Render the current scene\r\n     */\r\n    SceneManager.prototype.renderScene = function () {\r\n        var scene = this.peek();\r\n        if (scene != null) {\r\n            scene.renderer.render();\r\n        }\r\n    };\r\n    return SceneManager;\r\n}(StateMachine_1.StateMachine));\r\nexports.SceneManager = SceneManager;\r\n//# sourceMappingURL=SceneManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=State.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StateMachine = void 0;\r\n/**\r\n * A state machine for handeling states.\r\n */\r\nvar StateMachine = /** @class */ (function () {\r\n    //********************************************\r\n    //**ctor:\r\n    //********************************************\r\n    /**\r\n     *\r\n     * @param entity The owner of this state manager.\r\n     * @param [options] State machine options.\r\n     */\r\n    function StateMachine(entity, options) {\r\n        this._stateStack = [];\r\n        this._options = Object.assign({}, _defaultOptions, options);\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Sets the current state.\r\n     *\r\n     * @param state\r\n     */\r\n    StateMachine.prototype.push = function (state) {\r\n        if (state == null) {\r\n            throw new Error(\"Cannot push null or undefinde to state stack\");\r\n        }\r\n        if (this._stateStack.length > 0) {\r\n            this.peek().pause(this._entity);\r\n        }\r\n        this._stateStack.push(state);\r\n        state.initialize(this._entity);\r\n    };\r\n    /**\r\n     * Sets the active state and removes resets history.\r\n     *\r\n     * @param state\r\n     */\r\n    StateMachine.prototype.pushAndClearHistory = function (state) {\r\n        if (state == null) {\r\n            throw new Error(\"State cannot be null or undefined\");\r\n        }\r\n        this._stateStack = [];\r\n        this._stateStack.push(state);\r\n        state.initialize(this._entity);\r\n    };\r\n    /**\r\n     * Returns the first element in the stack without\r\n     * removing it.\r\n     */\r\n    StateMachine.prototype.peek = function () {\r\n        if (this._stateStack.length === 0) {\r\n            return null;\r\n        }\r\n        return this._stateStack[this._stateStack.length - 1];\r\n    };\r\n    /**\r\n     * Sets state history.\r\n     *\r\n     * @param states\r\n     */\r\n    StateMachine.prototype.setHistory = function (states) {\r\n        if (states == null) {\r\n            throw new Error(\"Cannot set history state collection is null or undefined\");\r\n        }\r\n        this._stateStack = states.slice(0, this._options.maxHistoryLenght);\r\n    };\r\n    /**\r\n     * Pops the current state off the top off the history stack\r\n     * and calls resume on next state in the stack.\r\n     */\r\n    StateMachine.prototype.pop = function () {\r\n        if (this._stateStack.length <= 0) {\r\n            return null;\r\n        }\r\n        var removed = this._stateStack.pop();\r\n        var top = this.peek();\r\n        if (top != null) {\r\n            top.resume(this._entity);\r\n        }\r\n        return removed;\r\n    };\r\n    return StateMachine;\r\n}());\r\nexports.StateMachine = StateMachine;\r\nvar _defaultOptions = {\r\n    maxHistoryLenght: 10\r\n};\r\n//# sourceMappingURL=StateMachine.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=CommonTypes.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=ViewPort.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=IUpdateable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.UpdateManager = void 0;\r\nvar UpdateManager = /** @class */ (function () {\r\n    //********************************************\r\n    //**ctor:\r\n    //********************************************\r\n    function UpdateManager() {\r\n        this._updateables = new Set();\r\n    }\r\n    //********************************************\r\n    //**public:\r\n    //********************************************\r\n    /**\r\n     *\r\n     */\r\n    UpdateManager.prototype.add = function (updateable) {\r\n        if (updateable == null) {\r\n            throw new Error(\"Updateable cannot be null er undefined\");\r\n        }\r\n        this._updateables.add(updateable);\r\n    };\r\n    /**\r\n     *\r\n     * @param updateable\r\n     */\r\n    UpdateManager.prototype.remove = function (updateable) {\r\n        if (updateable == null) {\r\n            throw new Error(\"Cannot delete updateable cannot be null er undefined\");\r\n        }\r\n        this._updateables.delete(updateable);\r\n    };\r\n    /**\r\n     *\r\n     * @param deltaTime\r\n     */\r\n    UpdateManager.prototype.update = function (deltaTime) {\r\n        this._updateables.forEach(function (x) { return x.update(deltaTime); });\r\n    };\r\n    return UpdateManager;\r\n}());\r\nexports.UpdateManager = UpdateManager;\r\n//# sourceMappingURL=UpdateManager.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./abstract/IDisposable\"), exports);\r\n__exportStar(require(\"./engine/components/Behaviour\"), exports);\r\n__exportStar(require(\"./engine/components/Component\"), exports);\r\n__exportStar(require(\"./engine/components/ShapeRenderer\"), exports);\r\n__exportStar(require(\"./engine/components/Transform\"), exports);\r\n__exportStar(require(\"./engine/gameobjects/Camera\"), exports);\r\n__exportStar(require(\"./engine/gameobjects/gameobject\"), exports);\r\n__exportStar(require(\"./engine/geometry/Circle\"), exports);\r\n__exportStar(require(\"./engine/geometry/IShape\"), exports);\r\n__exportStar(require(\"./engine/geometry/Line\"), exports);\r\n__exportStar(require(\"./engine/geometry/Rectangle\"), exports);\r\n__exportStar(require(\"./engine/geometry/Polygon\"), exports);\r\n__exportStar(require(\"./engine/input/InputManager\"), exports);\r\n__exportStar(require(\"./engine/input/KeyCode\"), exports);\r\n__exportStar(require(\"./engine/input/MouseButtonCode\"), exports);\r\n__exportStar(require(\"./engine/math/Point\"), exports);\r\n__exportStar(require(\"./engine/math/Vector2D\"), exports);\r\n__exportStar(require(\"./engine/rendering/Canvas2DRenderer\"), exports);\r\n__exportStar(require(\"./engine/rendering/IRenderable\"), exports);\r\n__exportStar(require(\"./engine/rendering/RenderManager\"), exports); // no export needed?\r\n__exportStar(require(\"./engine/scenes/Scene\"), exports);\r\n__exportStar(require(\"./engine/scenes/SceneManager\"), exports); // no export needed?\r\n__exportStar(require(\"./engine/state/State\"), exports);\r\n__exportStar(require(\"./engine/state/StateMachine\"), exports);\r\n__exportStar(require(\"./engine/types/ViewPort\"), exports);\r\n__exportStar(require(\"./engine/types/CommonTypes\"), exports);\r\n__exportStar(require(\"./engine/update/IUpdateable\"), exports);\r\n__exportStar(require(\"./engine/update/UpdateManager\"), exports); // no export needed?\r\n__exportStar(require(\"./engine/Game\"), exports);\r\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { Camera, Game, Scene} from \"game-engine\";\r\nimport playerFactory from './game/prefab/Player';\r\nimport boxFactory from './game/prefab/Box';\r\nimport pentagonFactory from './game/prefab/Pentagon';\r\n\r\nconst game: Game = new Game({clearColor: \"cornflowerblue\"});\r\n\r\n// create initial scene\r\nconst scene: Scene = new Scene(game);\r\n\r\n// create and add camera to scene\r\nconst camera: Camera = new Camera(scene);\r\nscene.setMainCamera(camera);\r\n\r\n// player\r\nconst player = playerFactory(scene);\r\nscene.addGameObject(player);\r\n\r\n// box\r\nconst box1 = boxFactory(scene);\r\nbox1.transform.translate(-100, -100);\r\nscene.addGameObject(box1);\r\n\r\nconst box2 = boxFactory(scene);\r\nbox2.transform.translate(100, 0);\r\nscene.addGameObject(box2);\r\n\r\nconst pentagon = pentagonFactory(scene);\r\n// pentagon.transform.translate()\r\nscene.addGameObject(pentagon);\r\n\r\n// push initial scene to game's scene manager.\r\ngame.sceneManager.push(scene);\r\n\r\n// initialize game\r\ngame.init();\r\n\r\n// run game loop\r\ngame.run();\r\n"],"sourceRoot":""}